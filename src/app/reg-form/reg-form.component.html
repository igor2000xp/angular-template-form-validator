<h2>Template-driven form with validation</h2>
<form #form="ngForm" (submit)="onSubmit($event, form)">
  <div>
    <input
      #firstName="ngModel"
      appNamelidator
      type="text"
      placeholder="First Name"
      name="name"
      required
      [(ngModel)]="user.name" />
  </div>

  <div class="error-block name-errors">
    @if (firstName.hasError('NameValidatorDirective') && firstName.touched) {
      @for (item of firstName.getError('NameValidatorDirective'); track item.message) {
        <div class="error">
          <span>* {{ item.message }}</span>
        </div>
      }
    }
  </div>

  <div>
    <input
      appEmailValidator
      #email="ngModel"
      type="email"
      placeholder="Email"
      name="email"
      required
      [(ngModel)]="user.email" />
  </div>
  <div class="error-block email-errors">
    @if (email.hasError('EmailValidatorDirective') && email.touched) {
      @for (item of email.getError('EmailValidatorDirective'); track item.message) {
        <div class="error">
          <span>* {{ item.message }}</span>
        </div>
      }
    }
  </div>
  <div>
    <input
      type="password"
      #passCheck="ngModel"
      placeholder="Password"
      name="password"
      appPassValidator
      [(ngModel)]="user.password" />
  </div>

  <div class="error-block password-errors">
    @if (passCheck.hasError('PassValidatorDirective') && passCheck.touched) {
      @for (item of passCheck.getError('PassValidatorDirective'); track item.message) {
        <div class="error">
          <span> * {{ item.message }} </span>
        </div>
      }
    }
  </div>

  <div>
    <input
      type="password"
      [(ngModel)]="user.confirmPassword"
      #passConfirm="ngModel"
      name="confirmPassword"
      placeholder="Confirm Password"
      required />
  </div>

  <div class="error">
    @if (passConfirm.value !== passCheck.value && passConfirm.touched && passCheck.hasError('required')) {
      <span>* Password and Confirm Password must be equal</span>
    }
  </div>

  <div>
    <span>{{ form.invalid }}</span>
  </div>
  <div>
    <button type="submit" [disabled]="form.invalid || passConfirm.value !== passCheck.value">Submit</button>
  </div>
</form>
